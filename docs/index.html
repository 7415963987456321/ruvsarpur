<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>ruvsarpur.py by sverrirs</title>
    
    <!--FACEBOOK-->
    <meta property="og:title" content="RÚV Sarpur Downloader" >
    <meta property="og:site_name" content="Ruvsarpur on GitHub">
    <meta property="og:url" content="https://sverrirs.github.io/ruvsarpur/" >
    <meta property="og:description" content="A simple python script that allows you to download TV shows off the Icelandic RÚV Sarpurinn website. The script is written in Python 3.5" >
    <meta property="og:image" content="https://raw.githubusercontent.com/sverrirs/ruvsarpur/master/img/entertainment.png" >
  
    <meta property="og:type" content="website" >
    <meta property="og:locale" content="en_US" >

    <!--TWITTER-->
    <meta property="twitter:card" content="summary_large_image" >
    <meta property="twitter:title" content="RÚV Sarpur Downloader" >
    <meta property="twitter:description" content="A simple python script that allows you to download TV shows off the Icelandic RÚV Sarpurinn website. The script is written in Python 3.5" >
    <meta property="twitter:creator" content="@sverrirsigm" >
    <meta property="twitter:url" content="https://sverrirs.github.io/ruvsarpur/" >
    <meta property="twitter:image:src" content="https://raw.githubusercontent.com/sverrirs/ruvsarpur/master/img/entertainment.png" >
    
    <style>
      .code { /*font-family: monospace; font-size: 100%; white-space: pre; */
              padding: 20px; overflow: auto; color: #f2f2f2; text-shadow: none; background: #303030;
              margin-bottom: 30px; font-family: Monaco, "Bitstream Vera Sans Mono", "Lucida Console", Terminal; font-size: 14px;}
      sid {color: yellow}
      pid {color: red}
      eptitle {color:cyan}
      i {font-style: italic; color: gray}
      h4{margin: 10px 0px;}
    </style>
    
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>ruvsarpur.py</h1>
          <h2>Python script to download shows off the Icelandic RÚV Sarpur website</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/sverrirs/ruvsarpur/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/sverrirs/ruvsarpur/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/sverrirs/ruvsarpur" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p align="center">
  <img src="https://raw.githubusercontent.com/sverrirs/ruvsarpur/master/img/entertainment.png" alt="logo" title="logo">
</p>

<h1>
<a id="rÚv-sarpur-download" class="anchor" href="#r%C3%9Av-sarpur-download" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RÚV Sarpur Download</h1>

<p>A python script that allows you to list, search and download TV shows off the Icelandic RÚV Sarpurinn website. </p>
<p>For a simpler in-browser alternative check out the cross browser bookmarklet at <a href="https://labs.sverrirs.com/ruvsarpur/" target="_blank">labs.sverrirs.com/ruvsarpur/</a></p>


<h1><a id="cmddemo" class="anchor" href="#cmddemo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h1>
<p align="center">
  <img src="https://raw.githubusercontent.com/sverrirs/ruvsarpur/master/img/demo01.gif" alt="Usage Demo" title="Usage Demo">
</p>

<h1>
<a id="requires" class="anchor" href="#requires" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requires</h1>

<p>Python version 3.x</p>

<p>The script also requires the following packages to be installed </p>

<div class="code">
pip install colorama    <i>** new in v1.2</i><br>
pip install termcolor   <i>** new in v1.2</i><br>
pip install python-dateutil<br>
pip install requests<br>
pip install simplejson<br>
pip install fuzzywuzzy<br>
pip install python-levenshtein<br>
</div>

<p>If you run into trouble installing the python-levenstein package (it is optional) then check out this solution on StackOverflow <a href="http://stackoverflow.com/a/33163704">http://stackoverflow.com/a/33163704</a></p>

<h1>
<a id="finding" class="anchor" href="#finding" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Finding and listing shows</h1>

<p>After downloading the script can be run by typing in </p>

<div class="code">
python ruvsarpur.py --help
</div>

<p>To list all available shows and their information use the <code>--list</code> switch. This switch can be used with any other argument to disable downloading and have the script only list matches.</p>

<div class="code">python ruvsarpur.py --list
</div>

<p>The script downloads the tv schedule for the last month (that is the default availability of shows on the RÚV website). By default the script will only refresh the schedule once per day. You can force it to re-download the tv schedule by using the <code>--refresh</code> switch</p>

<div class="code">python ruvsarpur.py --list --refresh
</div>

<p>The script stores, by default, all of its config files in the current user home directory in a folder named '.ruvsarpur'. Use the <code>--portable</code> command line option to make the script store all configuration files in the current working directory.</p>

<div class="code">python ruvsarpur.py --portable --list
</div>

<p>To find shows by title use the <code>--find</code> argument</p>

<div class="code">python ruvsarpur.py --list --find "Hvolpa"
</div>

<p>which returns</p>

<div class="code">
Found 3 shows<br>
<pid>4852061</pid>: <eptitle>Hvolpasveitin (11 af 24)</eptitle><br>
<sid>&nbsp;&nbsp;21810</sid>: Sýnt 2016-09-26 18:01<br>
<br>
<pid>4849078</pid>: <eptitle>Hvolpasveitin (20 af 26)</eptitle><br>
<sid>&nbsp;&nbsp;18457</sid>: Sýnt 2016-09-25 08:00<br>
<br>
<pid>4852060</pid>: <eptitle>Hvolpasveitin (10 af 24)</eptitle><br>
<sid>&nbsp;&nbsp;21810</sid>: Sýnt 2016-09-19 18:01<br>
</div>

<p>The results are formatted in the following pattern</p>
<div class="code">
<pid>{pid}</pid>: <eptitle>{show title}</eptitle><br>
<sid>{sid}</sid>: {showtime}
</div>

<p>You can include the optional <code>--desc</code> switch to display a short description of each program (if it is available)</p>

<div class="code">
python ruvsarpur.py --list --find "Hvolpa" --desc
</div>

<h1><a id="downloading" class="anchor" href="#downloading" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Finding and listing shows</h1>

<p>To download shows you can either use the <code>sid</code> (series id) or the <code>pid</code> (program id) to select what to download.</p>

<p>Using the <code>--sid</code> will download all available episodes in the series</p>

<div class="code">python ruvsarpur.py --sid 18457
</div>

<p>Using the <code>--pid</code> will only download a single episode</p>

<div class="code">python ruvsarpur.py --pid 4849075
</div>

<p>Both the <code>--sid</code> and <code>--pid</code> parameters support multiple ids</p>

<div class="code">python ruvsarpur.py --sid 18457 21810
</div>

<div class="code">python ruvsarpur.py --pid 4849075 4852060 4849078
</div>


<p>Use the <code>-o</code> or <code>--output</code> argument to control where the video files will be saved to. Please make sure that you don't end your path with a backwards slash.</p>

<div class="code">python ruvsarpur.py --pid 4849075 -o "c:\videos\ruv"
</div>

<p>The script keeps track of the shows that have already been downloaded. You can force it to re-download files by using the <code>--force</code> switch</p>

<div class="code">python ruvsarpur.py --pid 4849075 --force
</div>

<h1><a id="user-content-advanced-uses" class="anchor" href="#advanced-uses" aria-hidden="true"></a>Advanced uses</h1>

<p>Using <code>--category</code> argument allows you to filter the tv schedule by category. For example to list only childrens tv shows use the category number 1</p>

<div class="code">python ruvsarpur.py --list --category 1
</div>

<p>The available categories are:</p>

<div class="code">
1='Börn'<br>
2='Framhaldsþættir'<br>
3='Fréttatengt'<br>
4='Fræðsla'<br>
5='Íþróttir'<br>
6='Íslenskir þættir'<br>
7='Kvikmyndir'<br>
9='Tónlist'<br>
13='Samfélag'<br>
17='Menning'
</div>

<p>The <code>--days</code> argument can be used to filter the list by only listing shows added in the past <em>N</em> number of days. For example, to list only children's shows that were added in the past day use:</p>

<div class="code">python ruvsarpur.py --list --category 1 --days 1
</div>


<p>The the <code>--new</code> flag limits the search and downloads to only new shows (e.g. shows that have just aired their first episode in a new multi-episode series). The example below will only list new children's shows on the TV schedule.</p> 

<div class="code">python ruvsarpur.py --list --category 1 --new
</div>

<h1>
<a id="scheduling-downloads" class="anchor" href="#scheduling-downloads" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scheduling downloads</h1>

<p>You can schedule this script to run periodically to download new episodes in a series. Use the <code>--sid</code> option to monitor a particular tv series and <code>-o</code> to set the directory to save the video file into.</p>

<div class="code">python ruvsarpur.py --sid 18457 -o "c:\videos\ruv\hvolpasveit"
</div>

<p>You can additionally add the <code>--days</code> argument to only include shows from the N number of previous days (e.g. specify 1 if you intend to run this script every day, 7 if you only intend to run it once a week etc)</p>

<div class="code">python ruvsarpur.py --sid 18457 --days 7  -o "c:\videos\ruv"
</div>

<h1><a id="faq" class="anchor" href="#faq" aria-hidden="true"></a>Frequently Asked Questions</h1>

<h4>I keep getting a message "SHOW_TITLE not found on server (pid=PID_NUMBER)" when trying to download using your script.</h4>
<p><strong>Cause: The file is not available on the RÚV servers.</strong></p>
<p>The script performs an optimistic attempt to locate any show that is listed in the broadcasting programme. However the files are not guaranteed to be still available on the RÚV servers. This is the error that is shown in those cases.</p>

        </section>

        <footer>
          Ruvsarpur is maintained by <a href="https://github.com/sverrirs">sverrirs</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
